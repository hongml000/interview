## http协议的主要特点
* 简单快速： 每个资源URI都是固定的，想访问哪个资源，直接输入这个URI就能找到，所以处理起来比较简单
* 灵活： 在每个http有个头部分，有个数据类型，通过http协议就可以完成不同数据类型的传输
* 无连接（重点）：每连接一次，都会断掉，不会保持连接
* 无状态（重点）：每次连接断开后，下一次连接时，服务器是没法区分这次连接和上次连接是不是同一个身份，所以说是无状态的

## http报文的组成部分
* 请求报文
  1. 请求行：包括http方法，页面地址，http协议和版本
  2. 请求头：是key/value键值对，告诉服务端要什么
  3. 空行：告知服务器请求头到此为止，后面是请求体
  4. 请求体，用于放置请求数据

* 响应报文
  1. 响应行： http协议及版本 状态码及其描述组成，比如 HTTP/1.1 200 OK
  2. 响应头：是key/value键值对，用于描述服务器的基本信息，以及数据的描述
  3. 空行：告知后面部分不再是响应头，而是响应体
  4. 响应体：返回的资源 

## 请求方法
1. get：获取资源
2. post：传输资源
3. put：更新资源
4. delete：删除资源
5. head: 获得报文首部

## post和get区别
1. get在浏览器回退时是无害的（get是幂等的，执行多少遍都不会改变存储的结果），而post会再次请求（会更新资源）
2. get产生的Url可以被收藏，而Post不行
3. get请求会被浏览器主动缓存（如果有被缓存的话，从chrome newwork可看出，200时是灰色的，且会提示from memory cache；另一种是协商缓存304，告知用户资源有缓存，不必从后台获取），而Post不会，除非手动设置
    注意，需要实时获取最新数据的页面，应避免缓存，方法：
      * 请求头：
        其中三种禁止浏览器缓存的头字段：  
          Expires：-1或0  
          Cache-Control：no-cache  
          Pragma：no-cache  
      * 请求url加上时间戳参数?timestamp=9837362682  
4. get请求参数会被完整保留在浏览器历史记录里，而Post中的参数不会被保留
5. get请求在url中传送的参数是有长度限制的（一般2KB），而Post没有限制
6. get参数通过url传递，而Post放在request body中
7. get请求只能进行Url编码，而Post支持多种编码方式
8. 对参数的数据类型，get只接受ascii码字符，而post没有限制
9. get比Post更不安全，因为参数直接暴露在url上，所以不能用来传递敏感信息

## http协议状态码
1xx: 指示信息，表示请求已接收，继续处理
2xx: 成功，表示请求已成功接收
3xx: 重定向，要完成请求必须进行更进一步的操作
4xx: 客户端错误，请求有语法错误或请求无法实现
5xx: 服务端错误，服务器未能实现合法的请求

## 什么是持久连接
http1.1版本才支持持久连接
http协议采用“请求-应答”模式，当使用普通模式，即非keep-alive模式时，每个请求/应答客户和服务器都要新建一个连接，完成之后立即断开连接（http协议为无连接的协议）
当使用keep-alive模式（又称持久连接、连接重用）时，keep-alive功能使客户端到服务端的连接持续有效，当出现对服务器的后继请求时，keep-alive功能避免了建立或重新建立连接

## 什么是管线化
在使用持久连接的情况下，某个连接上消息的传递类似于：
请求1 > 响应1 > 请求2 > 响应2 > 请求3 > 响应3，即一次请求对应一个响应，每次请求都要等响应后才继续发下一个请求

管线化是在持久连接上，使某个连接上的消息变成了类似这样：
请求1 > 请求2 > 请求3 > 响应1 > 响应2 > 响应3，即将请求打包一次性发过去，响应也一次性打包响应
* 管线化机制通过持久连接完成，仅http/1.1支持
* 只有get和head请求可以进行管线化，post则有所限制
* 初次创建连接时不应启动管线机制，因为对方服务器不一定支持http1.1版本的协议
* 管线化不会影响响应到来的顺序，如上面的例子所示，响应返回的顺序并未改变
* http/1.1要求服务端支持管线化，但并不要求服务器端也对响应进行管线化处理，只是要求对于管线化的请求不失败即可
* 由于上面提到的服务端问题，开启管线化很可能并不会带来大幅度的性能提升，而且很多服务器端和代理程序对管线化的支持并不好，因此现代浏览器chrome和firefox默认并未开启管线化支持